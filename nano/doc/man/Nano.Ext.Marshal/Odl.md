# Object Description Language

ODL 是一种自定义的，更易于编辑的对象描述语言。它的设计目标是提供接近 XML 的能力，但是在格式上更简洁和易读。

## ODL Level 1

### 元素和属性

元素和属性的定义非常接近 XML，例如：
```
books name="my books"
  book name="first" year=2000 /
  book name="second" /
/books
```

等号左右两边都不能有空格。

对于属性的值，如果没有空格和特殊字符，且不是以 / 符号结尾，可以不使用双引号。例如上例中的 year=2000。注意，即使该值可以作为整型常量，但是 ODL 的属性值始终被认为是字符串。

如果使用双引号，则双引号内的内容会按照类似 C 字符串转义方式处理。例如：  
`"She says \"Hello\"."`

ODL 不支持 XML 中的值节点和 CDATA 节点。

### 注释

ODL 支持以 # 开头的行注释。# 符号之后的内容均认为是注释内容，包括行末 / 和 = 符号，均不做处理。

续行符 - 之后不要加注释，预处理器会无法识别续行符，导致解析失败。

### 无值属性

例如：`item name=Something open /`

这个元素有一个属性 open，后面没有值。ODL 解析器会产生一个值为空字符串 "" 的属性。同样的，如果一个属性没有值，ODL Writer 也会按上述方式写入一个无值属性。

### 多行元素

当一个元素的属性列表很长，需要写成多行时，在除最后一行外的每行末尾写入两个减号 `--` (续行符)。例如：
```
person name=Zhang --
  gender=male age=20 --
  /
```
注意：续行符 `--` 之后不能有任何非空符号，包括注释，否则会无法正确识别。且续行符前面必须有空字符，因此不能用于属性值 (建议使用多行属性)。

### 多行属性

可以使用 @ 修饰符来描述一个多行属性，例如：
```
person name=Zhang
  props rank=1 /
  @desc
    定义多行属性 desc
    个人简介写这里    
  /@desc
/person
```

这里的 person 元素包含 name 和 desc 两个属性。其中 desc 是一个多行属性。注意 props 是一个子元素，并不是 person 的属性，此处用于演示多行属性的归属关系。

多行属性与普通属性一样支持 C 字符串转义。

### 其他

ODL 不使用缩进来确定结构。缩进只是为了便于阅读，对于解析结果没有影响。

空行不会产生任何影响。

## ODL Level 2

ODL Level 2 的部分特性在库中被支持。

### 变量

**暂时不支持此特性。**可以在 ODL 中定义变量，然后在其他属性中引用。

### 函数

**暂时不支持此特性。**

### 引用

**暂时不支持此特性。**可以引用另一个 ODL 文档。

## Change Log

**2024/5/19**
1. 续行符从单个减号 `-` 改为两个减号 `--`

---
[index](index)
